import{j as m,k as p,o as w,p as u,d as g,_ as h}from"./index-DppgXNEt.js";import{m as _,r as i,d as A,A as N,p as f,q as E,w as S,U as C,u as T}from"./vue-UETLlaZb.js";import"./element-C5GNUYsG.js";import"./vxe-D2iPOL8t.js";const W=_({__name:"Meet",props:{domain:{default:"meet.jit.si"},options:{default:{}}},setup(r){const e=i(null),n=r,t=i(),a=i(null),c=(o,d)=>{var l;const s=document.createElement("script");s.src=o,s.async=!0,(l=document.querySelector("head"))==null||l.appendChild(s),s.addEventListener("load",d)},v=()=>{const o={...n.options,parentNode:a.value};t.value=new e.JitsiMeetExternalAPI(n.domain,o)},M=()=>{t&&t.value.dispose()};return A(()=>{c(`https://${n.domain}/external_api.js`,()=>{if(!e.JitsiMeetExternalAPI)throw new Error("Jitsi Meet External API not loaded");v(),t.value.addEventListener("readyToClose",function(){m(),p(),e.close()}),e.addEventListener("beforeunload",function(){m(),p()})})}),N(()=>{M()}),(o,d)=>(f(),E("div",{ref_key:"meetContainer",ref:a,style:{height:"100%",width:"100%"}},null,512))}}),x={class:"app-container"},I=_({__name:"MeetingWindow",setup(r){const e="192.168.1.10",n=w()||"",t={roomName:u()||"New meeting",userInfo:{displayName:g().username||"Username"},jwt:n,configOverwrite:{enableNoisyMicDetection:!1},interfaceConfigOverwrite:{SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,SHOW_CHROME_EXTENSION_BANNER:!1}};return S(()=>{u()}),(a,c)=>(f(),E("div",x,[C(W,{domain:T(e),options:t},null,8,["domain"])]))}}),J=h(I,[["__scopeId","data-v-0080f6c2"]]);export{J as default};
